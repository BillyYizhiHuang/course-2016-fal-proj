<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    
      <script>
      function getScript(url, callback) {
   var script = document.createElement('script');
   script.type = 'text/javascript';
   script.src = url;

   script.onreadystatechange = callback;
   script.onload = callback;

   document.getElementsByTagName('head')[0].appendChild(script);
}
    
      </script>
    <style>
      html { height: 100% }
      body { height: 100%; margin: 0; padding: 0; font-family:sans-serif; }
      #map-canvas { height: 100% }
      h1 { position:absolute; font-size:16px; background:black; line-height:80%;color:white; padding:10px; font-weight:100; z-index:10000;}
      #all-examples-info { position:absolute; background:white; font-size:10px; padding:10px; bottom:25px; width:120px; line-height:150%; border:1px solid rgba(0,0,0,.2);}
      #floating-panel {
  font-style: normal;
  position: absolute;
  right:2%;
  top: 2%;
  z-index: 5;
  background-color: rgba(255, 255, 255, 0.69);
  border: 1px solid #999;
  text-align: center;
  font-family: 'Roboto','sans-serif';
  line-height: 20px;
  text-decoration: none;
  padding-left: 0px;
        padding-right: 30px;
        display: inline-block;}
.btn {
  background: #3498db;
  background-image: -webkit-linear-gradient(top, #3498db, #2980b9);
  background-image: -moz-linear-gradient(top, #3498db, #2980b9);
  background-image: -ms-linear-gradient(top, #3498db, #2980b9);
  background-image: -o-linear-gradient(top, #3498db, #2980b9);
  background-image: linear-gradient(to bottom, #3498db, #2980b9);
  -webkit-border-radius: 5;
  -moz-border-radius: 5;
  border-radius: 5px;
  font-family: Arial;
  color: #ffffff;
  font-size: 20px;
  padding: 10px 20px 10px 20px;
  text-decoration: none;
    
}

.btn:hover {
  background: #3cb0fd;
  background-image: -webkit-linear-gradient(top, #3cb0fd, #3498db);
  background-image: -moz-linear-gradient(top, #3cb0fd, #3498db);
  background-image: -ms-linear-gradient(top, #3cb0fd, #3498db);
  background-image: -o-linear-gradient(top, #3cb0fd, #3498db);
  background-image: linear-gradient(to bottom, #3cb0fd, #3498db);
  text-decoration: none;
}
        a { color:white } /* Globally */

/* Each state */

a:visited { text-decoration: none; color:white; }
a:hover { text-decoration: none; color:white; }
a:focus { text-decoration: none; color:white; }
a:hover, a:active { text-decoration: none; color:black }
    </style>
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBzsnD9bdapO0oA1BIZKqVwW30sVpb_dLI"></script>
    <script src="../../build/heatmap.js"></script>
    <script src="../../plugins/gmaps-heatmap/gmaps-heatmap.js"></script>
    
  </head>
  <body>
     <div id="map-canvas"></div>
     <h1>
        
        <p style="font-size:36px;">Crime Heatmap</p><p>aliyevaa_bsowens_dwangus_jgtsui</p>
        
      </h1>
    
        
        <div id="floating-panel" style="center">
            <h2>Adjust Scale</h2>
            <p>Click one to plot:</p>
            <div>
            <input id="Map 1" type="button" class="ui-button ui-widget ui-corner-all" value="Low" onclick="plot1();" />
            <input id="Map 2" type="button" class="ui-button ui-widget ui-corner-all" value="Medium" onclick="plot2();" />
            <input id="Map 3" type="button" class="ui-button ui-widget ui-corner-all" value="High" onclick="plot3();" />
            </div>
            
        </div>
    
    
    <script type="text/javascript">
        // map center
        function plot1(){
        var myLatlng = new google.maps.LatLng(42.32, -71.0794);
        // map options,
        var myOptions = {
          zoom: 11,
          center: myLatlng
        };
        // standard map
        map = new google.maps.Map(document.getElementById("map-canvas"), myOptions);
        // heatmap layer
        var extrema_on = true;
        function toggle(button){
              if(document.getElementById("1").value=="OFF"){
               document.getElementById("1").value="ON";
                  extrema_on = true;
              }

              else if(document.getElementById("1").value=="ON"){
                  
               document.getElementById("1").value="OFF";
              extrema_on = false;
              }
            }
        
        
        heatmap = new HeatmapOverlay(map, 
          {
            // radius should be small ONLY if scaleRadius is true (or small radius is intended)
            "radius": .005,
            "maxOpacity": 1, 
            // scales the radius based on map zoom
            "scaleRadius": true, 
            // if set to false the heatmap uses the global maximum for colorization
            // if activated: uses the data maximum within the current map boundaries 
            //   (there will always be a red spot with useLocalExtremas true)
            "useLocalExtrema": true,
            // which field name in your data represents the latitude - default "lat"
            latField: 'long',
            // which field name in your data represents the longitude - default "lng"
            lngField: 'lat',
            // which field name in your data represents the data value - default "value"
            valueField: 'value'
          }
        );
        

        //var mydata = JSON.parse(allText.split("||"));
        //var somedata = mydata.slice(0, 3)
        
        
        getScript('crime_data.js', function(){
            var testData = testData;
        });
        
        //alert(("[" + mydata + "]"));
        
        
        heatmap.setData(testData);
            
        }
        function plot2(){
            
           var myLatlng = new google.maps.LatLng(42.32, -71.0794);
        // map options,
        var myOptions = {
          zoom: 11,
          center: myLatlng
        };
        // standard map
        map = new google.maps.Map(document.getElementById("map-canvas"), myOptions);
        // heatmap layer
        var extrema_on = true;
        function toggle(button){
              if(document.getElementById("1").value=="OFF"){
               document.getElementById("1").value="ON";
                  extrema_on = true;
              }

              else if(document.getElementById("1").value=="ON"){
                  
               document.getElementById("1").value="OFF";
              extrema_on = false;
              }
            }
        
        
        heatmap = new HeatmapOverlay(map, 
          {
            // radius should be small ONLY if scaleRadius is true (or small radius is intended)
            "radius": .007,
            "maxOpacity": 1, 
            // scales the radius based on map zoom
            "scaleRadius": true, 
            // if set to false the heatmap uses the global maximum for colorization
            // if activated: uses the data maximum within the current map boundaries 
            //   (there will always be a red spot with useLocalExtremas true)
            "useLocalExtrema": true,
            // which field name in your data represents the latitude - default "lat"
            latField: 'long',
            // which field name in your data represents the longitude - default "lng"
            lngField: 'lat',
            // which field name in your data represents the data value - default "value"
            valueField: 'value'
          }
        );
        

        //var mydata = JSON.parse(allText.split("||"));
        //var somedata = mydata.slice(0, 3)
        
        getScript('crime_data.js', function(){
            var testData = testData;
        });
        
        
        //alert(("[" + mydata + "]"));
        
        
        heatmap.setData(testData);
             
            
            
        }
        
        function plot3(){
            
            
           var myLatlng = new google.maps.LatLng(42.32, -71.0794);
        // map options,
        var myOptions = {
          zoom: 11,
          center: myLatlng
        };
        // standard map
        map = new google.maps.Map(document.getElementById("map-canvas"), myOptions);
        // heatmap layer
        var extrema_on = true;
        function toggle(button){
              if(document.getElementById("1").value=="OFF"){
               document.getElementById("1").value="ON";
                  extrema_on = true;
              }

              else if(document.getElementById("1").value=="ON"){
                  
               document.getElementById("1").value="OFF";
              extrema_on = false;
              }
            }
        
        
        heatmap = new HeatmapOverlay(map, 
          {
            // radius should be small ONLY if scaleRadius is true (or small radius is intended)
            "radius": .01,
            "maxOpacity": 1, 
            // scales the radius based on map zoom
            "scaleRadius": true, 
            // if set to false the heatmap uses the global maximum for colorization
            // if activated: uses the data maximum within the current map boundaries 
            //   (there will always be a red spot with useLocalExtremas true)
            "useLocalExtrema": true,
            // which field name in your data represents the latitude - default "lat"
            latField: 'long',
            // which field name in your data represents the longitude - default "lng"
            lngField: 'lat',
            // which field name in your data represents the data value - default "value"
            valueField: 'value'
          }
        );
        

        //var mydata = JSON.parse(allText.split("||"));
        //var somedata = mydata.slice(0, 3)
        
        
        getScript('crime_data.js', function(){
            var testData = testData;
        });
        
        //alert(("[" + mydata + "]"));
        
        
        heatmap.setData(testData);
             
            
            
        }
        plot2();
</script>
  </body>
</html>